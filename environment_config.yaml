attributes:
  metadata:
    # Settings group can be one of "general", "security", "compute", "network",
    # "storage", "logging", "openstack_services" and "other".
    group: 'storage'
# Number of Backends. Is there a dynamic way to build UI without this?
  no_backends:
    type: 'select'
    weight: 11
    value: '1'
    label: 'Nimble backends'
    description: 'Number of Nimble backends'
    values:
      - data: '1'
        label: '1'
      - data: '2'
        label: '2'
      - data: '3'
        label: '3'
      - data: '4'
        label: '4'
      - data: '5'
        label: '5'
# Grouping selection
  nimble_grouping:
    value: false
    label: 'Group all backends to same volume_backend_name'
    description: 'Specify if all Nimble Storage backends needs to be grouped to a volume type'
    weight: 12
    type: 'checkbox'
# Group Backend details
  nimble_group_backend_name:
    value: 'cinder_nimble'
    label: 'Group Backend Name'
    description: '"volume_backend_name: for Nimble Storage backends group in cinder'
    weight: 13
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: 'Error: "volume_backend_name" cannot be blank'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == false"
        action: 'hide'
  nimble_group_backend_type:
    value: 'cinder_nimble'
    label: 'Group Volume Type Name'
    description: 'Volume Type for Nimble Storage backends group in cinder'
    weight: 14
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == false"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_group_backend_type.value == ''"
        message: "During re-deployment, Volume Type cannot be removed by setting this field blank. Old type will be retained. Delete Volume Type manually if needed."
        action: 'none'
  nimble_group_default_backend:
    type: 'checkbox'
    value: false
    weight: 15
    label: 'Set as Default Type?'
    description: 'Set the Nimble backend group as the default type'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == false"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_group_backend_type.value == ''"
        message: "Since Group Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble_group_encryption:
    value: false
    label: 'Encryption enabled?'
    description: 'Specify if Nimble Storage backends needs to be encypted'
    weight: 16
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == false"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_group_backend_type.value == ''"
        message: "Since Group Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble_group_multi_init:
    value: false
    label: 'Multi-Initiator enabled?'
    description: 'Specify if Nimble Storage multi-initiator needs to be enabled'
    weight: 17
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == false"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_group_backend_type.value == ''"
        message: "Since Group Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble_group_perfpol:
    value: ""
    type: "text"
    weight: 18
    label: "Performance policy name"
    description: "Performance policy name for Nimble Storage backends"
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == false"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_group_perfpol.value == ''"
        message: "During re-deployment, Performance policy cannot be unset by setting this field blank. Old value will be retained. Delete extra spec value manually if needed."
        action: 'none'
      - condition: "settings:cinder_nimble.nimble_group_backend_type.value == ''"
        message: "Since Group Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
# Individual Backend details
  nimble1_backend_divider:
    value: ''
    label: "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
    description: ''
    weight: 19
    type: "hidden"
  nimble1_backend_label:
    value: ''
    label: 'Nimble Backend #1'
    description: 'Details for Nimble Backend #1'
    weight: 21
    type: "radio"
  nimble1_cinder_service_name:
    value: ''
    label: 'Cinder Service Name'
    description: 'Stanza title for backend definition in cinder.conf, which will become the Cinder Service Name. Will be autogenerated if left blank.'
    weight: 22
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.nimble1_cinder_service_name.value != ''"
        message: "Use with caution! For successful deployment, make sure Cinder Service Name is unique across backends. Please avoid using 'volume_backend_name_##' format or 'volume_backend_name' itself as it may conflict with autogenerated service names."
        action: 'none'
  nimble1_backend_name:
    value: 'cinder_nimble1'
    label: 'Backend Name'
    description: '"volume_backend_name" for Nimble Storage backend in cinder'
    weight: 23
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: 'Error: "volume_backend_name" cannot be blank'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
  nimble1_backend_type:
    value: 'cinder_nimble1'
    label: 'Volume Type Name'
    description: 'Volume Type for Nimble Storage backend in cinder'
    weight: 24
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_backend_type.value == ''"
        message: "During re-deployment, Volume Type cannot be removed by setting this field blank. Old type will be retained. Delete Volume Type manually if needed."
        action: 'none'
  nimble1_default_backend:
    type: 'checkbox'
    value: false
    weight: 25
    label: 'Set as Default Type?'
    description: 'Set the Nimble backend #1 as the default type'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble2_default_backend.value == true"
        action: 'disable'
        message: "Backend #2 is selected as default type."
      - condition: "settings:cinder_nimble.nimble3_default_backend.value == true"
        action: 'disable'
        message: "Backend #3 is selected as default type."
      - condition: "settings:cinder_nimble.nimble4_default_backend.value == true"
        action: 'disable'
        message: "Backend #4 is selected as default type."
      - condition: "settings:cinder_nimble.nimble5_default_backend.value == true"
        action: 'disable'
        message: "Backend #5 is selected as default type."
      - condition: "settings:cinder_nimble.nimble1_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble1_backend_protocol:
    value: 'iSCSI'
    values:
        - data: "iSCSI"
          label: "iSCSI"
          description: "Enables iSCSI protocol for block storage volumes"
        - data: "FC"
          label: "Fibre Channel"
          description: "Enables Fibre Channel protocol for block storage volumes"
    label: 'Storage Protocol to be used with Nimble Array Backend'
    description: ''
    weight: 26
    type: "radio"
  nimble1_san_ip:
    value: ""
    label: 'Nimble Storage Management IP'
    description: 'The hostname (or IP address) for Nimble Storage Management IP'
    weight: 27
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Enter in regular IP notation or host name"
  nimble1_login:
    value: ""
    type: "text"
    weight: 28
    label: "User ID for Nimble Storage"
    description: "Nimble Storage username/ID (with admin privilages)"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Username/ID cannot be blank"
  nimble1_password:
    value: ""
    type: "password"
    weight: 29
    label: "Password for Nimble Storage"
    description: "Nimble Storage password for username/ID above"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Password cannot be blank"
  nimble1_subnet_label:
    value: ""
    type: "text"
    weight: 30
    label: "Subnet Label"
    description: "Nimble Storage data network Subnet Label if more than one data network"
    restrictions:
      - condition: "settings:cinder_nimble.nimble1_backend_protocol.value != 'iSCSI'"
        message: "Subnet Label is valid for iSCSI protocol only, this setting will be ignored during deployment."
        action: 'none'
  nimble1_pool_name:
    value: ""
    type: "text"
    weight: 31
    label: "Pool Name"
    description: "Nimble Storage Pool Name (blank will use Nimble default storage pool)"
  nimble1_mp_img_xfer:
    value: false
    label: 'Use multipath for Image transfer?'
    description: 'Attach/Detach volumes in cinder using multipath for volume to image, and image to volume transfers'
    weight: 32
    type: 'checkbox'
  nimble1_encryption:
    value: false
    label: 'Encryption enabled?'
    description: 'Specify if Nimble Storage backend needs to be encypted'
    weight: 33
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble1_multi_init:
    value: false
    label: 'Multi-Initiator enabled?'
    description: 'Specify if Nimble Storage multi-initiator needs to be enabled'
    weight: 34
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble1_perfpol:
    value: ""
    type: "text"
    weight: 35
    label: "Performance policy name"
    description: "Performance policy name for Nimble Storage backend"
    restrictions:
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_perfpol.value == ''"
        message: "During re-deployment, Performance policy cannot be unset by setting this field blank. Old value will be retained. Delete extra spec value manually if needed."
        action: 'none'
      - condition: "settings:cinder_nimble.nimble1_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble2_backend_divider:
    value: ''
    label: "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
    description: ''
    weight: 36
    type: "hidden"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_backend_label:
    value: ''
    label: 'Nimble Backend #2'
    description: 'Details for Nimble Backend #2'
    weight: 38
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_cinder_service_name:
    value: ''
    label: 'Cinder Service Name'
    description: 'Stanza title for backend definition in cinder.conf, which will become the Cinder Service Name. Will be autogenerated if left blank.'
    weight: 39
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble2_cinder_service_name.value != ''"
        message: "Use with caution! For successful deployment, make sure Cinder Service Name is unique across backends. Please avoid using 'volume_backend_name_##' format or 'volume_backend_name' itself as it may conflict with autogenerated service names."
        action: 'none'
  nimble2_backend_name:
    value: 'cinder_nimble2'
    label: 'Backend Name'
    description: '"volume_backend_name" for Nimble Storage backend in cinder'
    weight: 40
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: 'Error: "volume_backend_name" cannot be blank'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
  nimble2_backend_type:
    value: 'cinder_nimble2'
    label: 'Volume Type Name'
    description: 'Volume Type for Nimble Storage backend in cinder'
    weight: 41
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble2_backend_type.value == ''"
        message: "During re-deployment, Volume Type cannot be removed by setting this field blank. Old type will be retained. Delete Volume Type manually if needed."
        action: 'none'
  nimble2_default_backend:
    type: 'checkbox'
    value: false
    weight: 42
    label: 'Set as Default Type?'
    description: 'Set the Nimble backend #2 as the default type'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_default_backend.value == true"
        action: 'disable'
        message: "Backend #1 is selected as default type."
      - condition: "settings:cinder_nimble.nimble3_default_backend.value == true"
        action: 'disable'
        message: "Backend #3 is selected as default type."
      - condition: "settings:cinder_nimble.nimble4_default_backend.value == true"
        action: 'disable'
        message: "Backend #4 is selected as default type."
      - condition: "settings:cinder_nimble.nimble5_default_backend.value == true"
        action: 'disable'
        message: "Backend #5 is selected as default type."
      - condition: "settings:cinder_nimble.nimble2_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble2_backend_protocol:
    value: 'iSCSI'
    values:
        - data: "iSCSI"
          label: "iSCSI"
          description: "Enables iSCSI protocol for block storage volumes"
        - data: "FC"
          label: "Fibre Channel"
          description: "Enables Fibre Channel protocol for block storage volumes"
    label: 'Nimble Storage Protocol'
    description: ''
    weight: 43
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_san_ip:
    value: ""
    label: 'Nimble Storage Management IP'
    description: 'The hostname (or IP address) for Nimble Storage Management IP'
    weight: 44
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Enter in regular IP notation or host name"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_login:
    value: ""
    type: "text"
    weight: 45
    label: "User ID for Nimble Storage"
    description: "Nimble Storage username/ID (with admin privilages)"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Username/ID cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_password:
    value: ""
    type: "password"
    weight: 46
    label: "Password for Nimble Storage"
    description: "Nimble Storage password for username/ID above"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Password cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_subnet_label:
    value: ""
    type: "text"
    weight: 47
    label: "Subnet Label"
    description: "Nimble Storage data network Subnet Label if more than one data network"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble2_backend_protocol.value != 'iSCSI'"
        message: "Subnet Label is valid for iSCSI protocol only, this setting will be ignored during deployment."
        action: 'none'
  nimble2_pool_name:
    value: ""
    type: "text"
    weight: 48
    label: "Pool Name"
    description: "Nimble Storage Pool Name (blank will use Nimble default storage pool)"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_mp_img_xfer:
    value: false
    label: 'Use multipath for Image transfer?'
    description: 'Attach/Detach volumes in cinder using multipath for volume to image, and image to volume transfers'
    weight: 49
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
  nimble2_encryption:
    value: false
    label: 'Encryption enabled?'
    description: 'Specify if Nimble Storage backend needs to be encypted'
    weight: 50
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble2_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble2_multi_init:
    value: false
    label: 'Multi-Initiator enabled?'
    description: 'Specify if Nimble Storage multi-initiator needs to be enabled'
    weight: 51
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble2_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble2_perfpol:
    value: ""
    type: "text"
    weight: 52
    label: "Performance policy name"
    description: "Performance policy name for Nimble Storage backend"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble2_perfpol.value == ''"
        message: "During re-deployment, Performance policy cannot be unset by setting this field blank. Old value will be retained. Delete extra spec value manually if needed."
        action: 'none'
      - condition: "settings:cinder_nimble.nimble2_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble3_backend_divider:
    value: ''
    label: "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
    description: ''
    weight: 53
    type: "hidden"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_backend_label:
    value: ''
    label: 'Nimble Backend #3'
    description: 'Details for Nimble Backend #3'
    weight: 55
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_cinder_service_name:
    value: ''
    label: 'Cinder Service Name'
    description: 'Stanza title for backend definition in cinder.conf, which will become the Cinder Service Name. Will be autogenerated if left blank.'
    weight: 56
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble3_cinder_service_name.value != ''"
        message: "Use with caution! For successful deployment, make sure Cinder Service Name is unique across backends. Please avoid using 'volume_backend_name_##' format or 'volume_backend_name' itself as it may conflict with autogenerated service names."
        action: 'none'
  nimble3_backend_name:
    value: 'cinder_nimble3'
    label: 'Backend Name'
    description: '"volume_backend_name" for Nimble Storage backend in cinder'
    weight: 57
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: 'Error: "volume_backend_name" cannot be blank'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
  nimble3_backend_type:
    value: 'cinder_nimble3'
    label: 'Volume Type Name'
    description: 'Volume Type for Nimble Storage backend in cinder'
    weight: 58
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble3_backend_type.value == ''"
        message: "During re-deployment, Volume Type cannot be removed by setting this field blank. Old type will be retained. Delete Volume Type manually if needed."
        action: 'none'
  nimble3_default_backend:
    type: 'checkbox'
    value: false
    weight: 59
    label: 'Set as Default Type?'
    description: 'Set the Nimble backend #3 as the default type'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_default_backend.value == true"
        action: 'disable'
        message: "Backend #1 is selected as default type."
      - condition: "settings:cinder_nimble.nimble2_default_backend.value == true"
        action: 'disable'
        message: "Backend #2 is selected as default type."
      - condition: "settings:cinder_nimble.nimble4_default_backend.value == true"
        action: 'disable'
        message: "Backend #4 is selected as default type."
      - condition: "settings:cinder_nimble.nimble5_default_backend.value == true"
        action: 'disable'
        message: "Backend #5 is selected as default type."
      - condition: "settings:cinder_nimble.nimble3_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble3_backend_protocol:
    value: 'iSCSI'
    values:
        - data: "iSCSI"
          label: "iSCSI"
          description: "Enables iSCSI protocol for block storage volumes"
        - data: "FC"
          label: "Fibre Channel"
          description: "Enables Fibre Channel protocol for block storage volumes"
    label: 'Storage Protocol to be used with Nimble Array Backend'
    description: ''
    weight: 60
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_san_ip:
    value: ""
    label: 'Nimble Storage Management IP'
    description: 'The hostname (or IP address) for Nimble Storage Management IP'
    weight: 61
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Enter in regular IP notation or host name"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_login:
    value: ""
    type: "text"
    weight: 62
    label: "User ID for Nimble Storage"
    description: "Nimble Storage username/ID (with admin privilages)"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Username/ID cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_password:
    value: ""
    type: "password"
    weight: 63
    label: "Password for Nimble Storage"
    description: "Nimble Storage password for username/ID above"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Password cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_subnet_label:
    value: ""
    type: "text"
    weight: 64
    label: "Subnet Label"
    description: "Nimble Storage data network Subnet Label if more than one data network"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble3_backend_protocol.value != 'iSCSI'"
        message: "Subnet Label is valid for iSCSI protocol only, this setting will be ignored during deployment."
        action: 'none'
  nimble3_pool_name:
    value: ""
    type: "text"
    weight: 65
    label: "Pool Name"
    description: "Nimble Storage Pool Name (blank will use Nimble default storage pool)"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_mp_img_xfer:
    value: false
    label: 'Use multipath for Image transfer?'
    description: 'Attach/Detach volumes in cinder using multipath for volume to image, and image to volume transfers'
    weight: 66
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
  nimble3_encryption:
    value: false
    label: 'Encryption enabled?'
    description: 'Specify if Nimble Storage backend needs to be encypted'
    weight: 67
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble3_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble3_multi_init:
    value: false
    label: 'Multi-Initiator enabled?'
    description: 'Specify if Nimble Storage multi-initiator needs to be enabled'
    weight: 68
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble3_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble3_perfpol:
    value: ""
    type: "text"
    weight: 69
    label: "Performance policy name"
    description: "Performance policy name for Nimble Storage backend"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble3_perfpol.value == ''"
        message: "During re-deployment, Performance policy cannot be unset by setting this field blank. Old value will be retained. Delete extra spec value manually if needed."
        action: 'none'
      - condition: "settings:cinder_nimble.nimble3_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble4_backend_divider:
    value: ''
    label: "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
    description: ''
    weight: 70
    type: "hidden"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_backend_label:
    value: ''
    label: 'Nimble Backend #4'
    description: 'Details for Nimble Backend #4'
    weight: 72
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_cinder_service_name:
    value: ''
    label: 'Cinder Service Name'
    description: 'Stanza title for backend definition in cinder.conf, which will become the Cinder Service Name. Will be autogenerated if left blank.'
    weight: 73
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble4_cinder_service_name.value != ''"
        message: "Use with caution! For successful deployment, make sure Cinder Service Name is unique across backends. Please avoid using 'volume_backend_name_##' format or 'volume_backend_name' itself as it may conflict with autogenerated service names."
        action: 'none'
  nimble4_backend_name:
    value: 'cinder_nimble4'
    label: 'Backend Name'
    description: '"volume_backend_name" for Nimble Storage backend in cinder'
    weight: 74
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: 'Error: "volume_backend_name" cannot be blank'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
  nimble4_backend_type:
    value: 'cinder_nimble4'
    label: 'Volume Type Name'
    description: 'Volume Type for Nimble Storage backend in cinder'
    weight: 75
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble4_backend_type.value == ''"
        message: "During re-deployment, Volume Type cannot be removed by setting this field blank. Old type will be retained. Delete Volume Type manually if needed."
        action: 'none'
  nimble4_default_backend:
    type: 'checkbox'
    value: false
    weight: 76
    label: 'Set as Default Type?'
    description: 'Set the Nimble backend #4 as the default type'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_default_backend.value == true"
        action: 'disable'
        message: "Backend #1 is selected as default type."
      - condition: "settings:cinder_nimble.nimble2_default_backend.value == true"
        action: 'disable'
        message: "Backend #2 is selected as default type."
      - condition: "settings:cinder_nimble.nimble3_default_backend.value == true"
        action: 'disable'
        message: "Backend #3 is selected as default type."
      - condition: "settings:cinder_nimble.nimble5_default_backend.value == true"
        action: 'disable'
        message: "Backend #5 is selected as default type."
      - condition: "settings:cinder_nimble.nimble4_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble4_backend_protocol:
    value: 'iSCSI'
    values:
        - data: "iSCSI"
          label: "iSCSI"
          description: "Enables iSCSI protocol for block storage volumes"
        - data: "FC"
          label: "Fibre Channel"
          description: "Enables Fibre Channel protocol for block storage volumes"
    label: 'Storage Protocol to be used with Nimble Array Backend'
    description: ''
    weight: 77
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_san_ip:
    value: ""
    label: 'Nimble Storage Management IP'
    description: 'The hostname (or IP address) for Nimble Storage Management IP'
    weight: 78
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Enter in regular IP notation or host name"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_login:
    value: ""
    type: "text"
    weight: 79
    label: "User ID for Nimble Storage"
    description: "Nimble Storage username/ID (with admin privilages)"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Username/ID cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_password:
    value: ""
    type: "password"
    weight: 80
    label: "Password for Nimble Storage"
    description: "Nimble Storage password for username/ID above"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Password cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_subnet_label:
    value: ""
    type: "text"
    weight: 81
    label: "Subnet Label"
    description: "Nimble Storage data network Subnet Label if more than one data network"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble4_backend_protocol.value != 'iSCSI'"
        message: "Subnet Label is valid for iSCSI protocol only, this setting will be ignored during deployment."
        action: 'none'
  nimble4_pool_name:
    value: ""
    type: "text"
    weight: 82
    label: "Pool Name"
    description: "Nimble Storage Pool Name (blank will use Nimble default storage pool)"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_mp_img_xfer:
    value: false
    label: 'Use multipath for Image transfer?'
    description: 'Attach/Detach volumes in cinder using multipath for volume to image, and image to volume transfers'
    weight: 83
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
  nimble4_encryption:
    value: false
    label: 'Encryption enabled?'
    description: 'Specify if Nimble Storage backend needs to be encypted'
    weight: 84
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble4_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble4_multi_init:
    value: false
    label: 'Multi-Initiator enabled?'
    description: 'Specify if Nimble Storage multi-initiator needs to be enabled'
    weight: 85
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble4_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble4_perfpol:
    value: ""
    type: "text"
    weight: 86
    label: "Performance policy name"
    description: "Performance policy name for Nimble Storage backend"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble4_perfpol.value == ''"
        message: "During re-deployment, Performance policy cannot be unset by setting this field blank. Old value will be retained. Delete extra spec value manually if needed."
        action: 'none'
      - condition: "settings:cinder_nimble.nimble4_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble5_backend_divider:
    value: ''
    label: "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
    description: ''
    weight: 87
    type: "hidden"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_backend_label:
    value: ''
    label: 'Nimble Backend #5'
    description: 'Details for Nimble Backend #5'
    weight: 89
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_cinder_service_name:
    value: ''
    label: 'Cinder Service Name'
    description: 'Stanza title for backend definition in cinder.conf, which will become the Cinder Service Name. Will be autogenerated if left blank.'
    weight: 90
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble5_cinder_service_name.value != ''"
        message: "Use with caution! For successful deployment, make sure Cinder Service Name is unique across backends. Please avoid using 'volume_backend_name_##' format or 'volume_backend_name' itself as it may conflict with autogenerated service names."
        action: 'none'
  nimble5_backend_name:
    value: 'cinder_nimble5'
    label: 'Backend Name'
    description: '"volume_backend_name" for Nimble Storage backend in cinder'
    weight: 91
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: 'Error: "volume_backend_name" cannot be blank'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
  nimble5_backend_type:
    value: 'cinder_nimble5'
    label: 'Volume Type Name'
    description: 'Volume Type for Nimble Storage backend in cinder'
    weight: 92
    type: "text"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble5_backend_type.value == ''"
        message: "During re-deployment, Volume Type cannot be removed by setting this field blank. Old type will be retained. Delete Volume Type manually if needed."
        action: 'none'
  nimble5_default_backend:
    type: 'checkbox'
    value: false
    weight: 93
    label: 'Set as Default Type?'
    description: 'Set the Nimble backend #5 as the default type'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble1_default_backend.value == true"
        action: 'disable'
        message: "Backend #1 is selected as default type."
      - condition: "settings:cinder_nimble.nimble2_default_backend.value == true"
        action: 'disable'
        message: "Backend #2 is selected as default type."
      - condition: "settings:cinder_nimble.nimble3_default_backend.value == true"
        action: 'disable'
        message: "Backend #3 is selected as default type."
      - condition: "settings:cinder_nimble.nimble4_default_backend.value == true"
        action: 'disable'
        message: "Backend #4 is selected as default type."
      - condition: "settings:cinder_nimble.nimble5_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble5_backend_protocol:
    value: 'iSCSI'
    values:
        - data: "iSCSI"
          label: "iSCSI"
          description: "Enables iSCSI protocol for block storage volumes"
        - data: "FC"
          label: "Fibre Channel"
          description: "Enables Fibre Channel protocol for block storage volumes"
    label: 'Storage Protocol to be used with Nimble Array Backend'
    description: ''
    weight: 94
    type: "radio"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_san_ip:
    value: ""
    label: 'Nimble Storage Management IP'
    description: 'The hostname (or IP address) for Nimble Storage Management IP'
    weight: 95
    type: "text"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Enter in regular IP notation or host name"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_login:
    value: ""
    type: "text"
    weight: 96
    label: "User ID for Nimble Storage"
    description: "Nimble Storage username/ID (with admin privilages)"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Username/ID cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_password:
    value: ""
    type: "password"
    weight: 97
    label: "Password for Nimble Storage"
    description: "Nimble Storage password for username/ID above"
    regex:
      source: '^(?!\s*$).+'
      error: "Error: Password cannot be blank"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_subnet_label:
    value: ""
    type: "text"
    weight: 98
    label: "Subnet Label"
    description: "Nimble Storage data network Subnet Label if more than one data network"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble5_backend_protocol.value != 'iSCSI'"
        message: "Subnet Label is valid for iSCSI protocol only, this setting will be ignored during deployment."
        action: 'none'
  nimble5_pool_name:
    value: ""
    type: "text"
    weight: 99
    label: "Pool Name"
    description: "Nimble Storage Pool Name (blank will use Nimble default storage pool)"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_mp_img_xfer:
    value: false
    label: 'Use multipath for Image transfer?'
    description: 'Attach/Detach volumes in cinder using multipath for volume to image, and image to volume transfers'
    weight: 100
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
  nimble5_encryption:
    value: false
    label: 'Encryption enabled?'
    description: 'Specify if Nimble Storage backend needs to be encypted'
    weight: 101
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble5_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble5_multi_init:
    value: false
    label: 'Multi-Initiator enabled?'
    description: 'Specify if Nimble Storage multi-initiator needs to be enabled'
    weight: 102
    type: 'checkbox'
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble5_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble5_perfpol:
    value: ""
    type: "text"
    weight: 103
    label: "Performance policy name"
    description: "Performance policy name for Nimble Storage backend"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble_grouping.value == true"
        action: 'hide'
      - condition: "settings:cinder_nimble.nimble5_perfpol.value == ''"
        message: "During re-deployment, Performance policy cannot be unset by setting this field blank. Old value will be retained. Delete extra spec value manually if needed."
        action: 'none'
      - condition: "settings:cinder_nimble.nimble5_backend_type.value == ''"
        message: "Since Volume Type Name field is blank, this setting will be ignored during deployment."
        action: 'none'
  nimble6_backend_divider:
    value: ''
    label: "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
    description: ''
    weight: 104
    type: "hidden"
    restrictions:
      - condition: "settings:cinder_nimble.no_backends.value == '1'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '2'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '3'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '4'"
        action: 'hide'
      - condition: "settings:cinder_nimble.no_backends.value == '5'"
        action: 'hide'
